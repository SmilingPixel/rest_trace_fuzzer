package config

import "time"

var GlobalConfig *RuntimeConfig

type RuntimeConfig struct {
	// Path to the OpenAPI spec file
	OpenAPISpecPath string `json:"openapi_spec"`

	// Path to internal service openapi spec file, json format
	InternalServiceOpenAPIPath string `json:"internal_service_openapi_path"`

	// Path to the dependency file generated by other tools or manually
	DependencyFilePath string `json:"dependency_file_path"`

	// Type of the dependency file
	// Currently only support 'Restler'
	DependencyFileType string `json:"dependency_file_type"`

	// Type of the fuzzer
	FuzzerType string `json:"fuzzer_type"`

	// Budget is the budget of the fuzzer, which is the maximum time the fuzzer can run, in milliseconds.
	FuzzerBudget time.Duration `json:"fuzzer_budget"`

	// BaseURL is the base URL of the API.
	ServerBaseURL string `json:"server_base_url"`

	// log level
	LogLevel string `json:"log_level"`

	// Output directory, e.g., ./output
	OutputDir string `json:"output_dir"`

	// TraceBackendURL is the URL of the trace backend
	TraceBackendURL string `json:"trace_backend_url"`

	// TraceBackendType is the type of the trace backend
	// Currently only support 'Jaeger'
	TraceBackendType string `json:"trace_backend_type"`
}

func InitConfig() {
	GlobalConfig = &RuntimeConfig{}
}
